/*
int timesEntered = 0;
function UpdateIntroObjects(){
  if(timesEntered == 0){cPlayer.Transparency = 100;  } else {cPlayer.Transparency = 0; }
  obj_IntroTransition.Visible=false;
  
  obj_IntroBackground.Visible = (timesEntered == 0);
  obj_IntroPomni.Visible = (timesEntered == 0);
  obj_IntroCaine.Visible = (timesEntered == 0);
}

function room_Load()
{
  UpdateIntroObjects();
  timesEntered++;
}
*/


function ToRoomsHall_WalkOn()
{
  cPlayer.ChangeRoom(2 , 600 ,  231 ,  eDirectionDown);
}





function npc_Ragatha_Talk()
{
  MovePlayerAndWait(object[5].X - 10,  object[5].Y, eDirectionRight);
  
if(RagathaIssue == 0 && HelpedRagatha == false){
  StartDialogue(6 , "SNIF, SNIF");
  StartDialogue(5 , "Tranquila, tranquila");
  StartDialogue(0 , "¿Ocurre algo?");
  StartDialogue(6 , "Lo tenía ... SNIF, en la cara ... SNIF,  y ahora no sé donde está ... ");
  StartDialogue(5 , "Ya pasó, lo que Ragatha quiere decir es que no encontramos su ojo, se le debió de caer en algun momento");
  StartDialogue(5 , "¿Podrias ayudarmos?");
  EndDialogue(true);
  npc_Caine.Visible = false;
  npc_Caine.Clickable = false;
  obj_needle.Visible = true;
  RagathaIssue = 1;
  } else if (RagathaIssue == 1 && HelpedRagatha == false){
    
  StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
  StartDialogue(0 , "No , creo que no");
  StartDialogue(6 , "Pues debería haber algo por ahi...");
  StartDialogue(5 , "Estaremos por aqui cuando quieras hablar con nosotres");
  EndDialogue(true);
    
    
  }else if (RagathaIssue == 2 && HelpedRagatha == false && needle == true && EyeCollected == false){
    
    npc_Caine.Visible = false;
    npc_Caine.Clickable = false;
  StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
  StartDialogue(0 , "Si ,  por ahi habia una aguja.");
  StartDialogue(5 , "Genial , con esto podemos coser el ojo.");
  StartDialogue(6 , "Ahora solo falta encontrarlo...");
   StartDialogue(0 , "¿Por qué no hablamos con Caine? A lo mejor sabe algo.");
  StartDialogue(5, "Me pareció verle entrar en la caseta del circo... No sé que estara tramando");
  EndDialogue(true);
    
  }else if (RagathaIssue == 2 && HelpedRagatha == false && needle == false && EyeCollected == true){
    
    StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
    StartDialogue(0 , "¿Es este tu ojo?");
    StartDialogue(6 , "OH! LO HAS ENCONTRADO , MI OJO!");
    StartDialogue(5 , "Ahora solo necesitamos algo para coserlo otra vez");  
    EndDialogue(true);
    
    
    }else if (RagathaIssue == 2 && HelpedRagatha == false && needle == true && EyeCollected == true){
      
      StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
      StartDialogue(0 , "Si ,  creo que ya tenemos lo que hace falta ...");
      StartDialogue(6 ,  "¡OH, GENIAL, MUCHAS GRACIAS!");
      StartDialogue(5 , "Espera , que te ayudo a cosértelo...");
      StartDialogue(6 , "...");
      StartDialogue(5 , "Mmm... Por aquí , por allá , ¡Ya está!");
      StartDialogue(6 , "¡Muchas gracias a las dos! ¡Os estoy muy agradecida");
      StartDialogue(0 , "No ha sido nada ");
      StartDialogue(5 , "Gracias novata , ven aqui que te voy a contar un secretillo ...");
      EndDialogue(true);
      HelpedRagatha = true;
    }
  
  
}

function npc_Zooble_Talk()
{
  MovePlayerAndWait(cZooble.x -30,  cZooble.y , eDirectionRight);
  
  if(AngryZooble == true){
    
    StartDialogue(5 , "¿Que tal , has conseguido algo?");
    StartDialogue(0 , "Me ha mandado a la ****** , hablando en plata.");
    StartDialogue(1 , "¡NO , NO , NO ,  RECORDAD QUE ESE LENGUAJE NO ESTA PERMITIDO!");
    StartDialogue(5 , "Vaya , pues que cabezón.");
    StartDialogue(5 , "Escucha, puedes usar mi mano a modo de ganzúa para abrir su puerta");
    StartDialogue(5 , "Date prisa , no me gusta ir sin brazo por el circo...");
    StartDialogue(0 , "¡Muchas gracias!");
    EndDialogue(true);
    BrazoZooble = true;
    
    }
  
  
  
 if(HelpedRagatha == true && AngryZooble == false){
   
    StartDialogue(5 , "Gracias por ayudar a mi amiga. ");
    StartDialogue(5 , "Te ayudaría ,  pero Jax a veces es muy cabezón ");
    StartDialogue(5 , "Tienes que pillar a Jax de buen humor para que te deje entrar a su cuarto , es muy reservado. ");
    StartDialogue(5 , "Pero es un buen tipo , aunque muy travieso");
    StartDialogue(5 , "Intenta mediar con el y convencerle, si no te deja, ven a hablar conmigo. ");
    EndDialogue(true);
   }
   
   if(RagathaIssue == 0 && HelpedRagatha == false){
  StartDialogue(6 , "SNIF, SNIF");
  StartDialogue(5 , "Tranquila, tranquila");
  StartDialogue(0 , "¿Ocurre algo?");
  StartDialogue(6 , "Lo tenía ... SNIF, en la cara ... SNIF,  y ahora no sé donde está ... ");
  StartDialogue(5 , "Ya pasó, lo que Ragatha quiere decir es que no encontramos su ojo, se le debió de caer en algun momento");
  StartDialogue(5 , "¿Podrias ayudarmos?");
  EndDialogue(true);
  obj_needle.Visible = true;
  npc_Caine.Visible = false;
  npc_Caine.Clickable = false;
  RagathaIssue = 1;
  } else if (RagathaIssue == 1 && HelpedRagatha == false){
    
  StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
  StartDialogue(0 , "No , creo que no");
  StartDialogue(6 , "Pues debería haber algo por ahi...");
  StartDialogue(5 , "Estaremos por aqui cuando quieras hablar con nosotres");
  EndDialogue(true);
    
    
  }else if (RagathaIssue == 2 && HelpedRagatha == false && needle == true && EyeCollected == false){
    
    npc_Caine.Visible = false;
    npc_Caine.Clickable = false;
   StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
   StartDialogue(0 , "Si ,  por ahi habia una aguja.");
   StartDialogue(5 , "Genial , con esto podemos coser el ojo.");
   StartDialogue(6 , "Ahora solo falta encontrarlo...");
   StartDialogue(0 , "¿Por qué no hablamos con Caine? A lo mejor sabe algo.");
   StartDialogue(5, "Me pareció verle entrar en la caseta del circo... No sé que estara tramando");
  EndDialogue(true);
    
  }else if (RagathaIssue == 2 && HelpedRagatha == false && needle == false && EyeCollected == true){
    
    StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
    StartDialogue(0 , "¿Es este tu ojo?");
    StartDialogue(6 , "OH! LO HAS ENCONTRADO , MI OJO!");
    StartDialogue(5 , "Ahora solo necesitamos algo para coserlo otra vez");  
    EndDialogue(true);
    
    
    }else if (RagathaIssue == 2 && HelpedRagatha == false && needle == true && EyeCollected == true){
      
      StartDialogue(6 , "¿Has encontrado algo para ayudarme?");
      StartDialogue(0 , "Si ,  creo que ya tenemos lo que hace falta ...");
      StartDialogue(6 ,  "¡OH, GENIAL, MUCHAS GRACIAS!");
      StartDialogue(5 , "Espera , que te ayudo a cosértelo...");
      StartDialogue(6 , "...");
      StartDialogue(5 , "Mmm... Por aquí , por allá , ¡Ya está!");
      StartDialogue(6 , "¡Muchas gracias a las dos! ¡Os estoy muy agradecida");
      StartDialogue(0 , "No ha sido nada ");
      StartDialogue(5 , "Gracias novata , ven aqui que te voy a contar un secretillo ...");
      EndDialogue(true);
      HelpedRagatha = true;
    }
}
/*
function npc_Jax_Talk()
{

 if(HelpedRagatha == true){
   MovePlayerAndWait(object[1].X,  object[1].Y, eDirectionLeft);
   StartDialogue(2 , "¿Que hay de nuevo , vieja?");
   StartDialogue(0 , "¿Tu eras Jax,  no ?");
   StartDialogue(2 , "Puede ser ... ¿Que quieres?");
   StartDialogue(0 , "¿Me dijeron que tu tenías la llave de mi cuarto no?");
   StartDialogue(0 , "¿Podrías dármela?");
   StartDialogue(2 , "Ah sí , esta en mi cuarto.");
   StartDialogue(0 , "Podemos ir a por ella?");
   StartDialogue(2 , "No me gusta que la gente hurgue entre mis cosas");
   StartDialogue(2 , "Con lo cual , no te dejaré entrar.");
   StartDialogue(2 , "Ahora vete a llorar junto a Gangle , cada payaso necesita su careta de feria");
   StartDialogue(0 , "...");
   EndDialogue(true);
   AngryZooble = true;
   
   }else{
     
     StartDialogue(2 , "Oye novata , ahora no estoy de humor , dejame algo de espacio...");
     StartDialogue(0 , "...");
     EndDialogue(true);
     
   }
}
*/
function npc_Gangle_Talk()
{

StartDialogue(3 ,  "Ooooh , SNIF!");
StartDialogue(0 ,  "Eh ,Estas bien?");
StartDialogue(3 ,  "Nooo ... SNIF! , mi máscara de comedia ... SNIF , se ha roto...");
StartDialogue(0 ,  "Vaya , es una pena");
StartDialogue(3 ,  "Si quieres la llave de tu habitacion ,  habla con Jax , yo... SNIF , no puedo ayudarte...");
StartDialogue(0 ,  "Oh , bueno suerte con tu mascara ");
EndDialogue(true);
}

function npc_Caine_Talk()
{
 StartDialogue(1 , "Dime , estas disfrutando de tu estancia?");
 StartDialogue(0 , "Disfrutar no seria la palabra mas adecua...");
 StartDialogue(1 , "Es genial oir eso , pues sigue disfrutando");
 EndDialogue(true);
}

function npc_Kinger_Talk()
{
 StartDialogue(0 , "Hola , estoy buscando la manera de entrar en mi habitacion");
 StartDialogue(4 , "Pues yo no puedo ayudarte , es Jax quien controla eso , p-pero me da miedo");
 StartDialogue(0 , "Vale");
 EndDialogue(true);
}

/*
function npc_Jax_Look()
{
 StartDialogue(0 , "Es Jax, no me cae muy bien.");
 EndDialogue(true);
}
*/
function npc_Gangle_Look()
{
 StartDialogue(0 , "Es Gangle, está muy triste.");
 EndDialogue(true);
}

function npc_Kinger_Look()
{
 StartDialogue(0 , "Es Kinger, parece una persona bastante paranóica.");
 StartDialogue(0 , "A saber lo que habrá vivido estando aquí.");
 EndDialogue(true);
}

function npc_Caine_Look()
{
 StartDialogue(0 , "Es Caine, me da algo de miedo.");
 StartDialogue(0 , "Ojos dentro de la boca no es algo que se vea todos los días.");
 EndDialogue(true);
}

function npc_Zooble_Look()
{
 StartDialogue(0 , "Son Zooble y Raghata.");
 EndDialogue(true);
}

function obj_needle_Look()
{
  MovePlayerAndWait(object[6].X,  object[6].Y, eDirectionLeft);
  if(RagathaIssue == 0){
    StartDialogue(0 , "Es solo un botón.");
    StartDialogue(0 , "Vaya sitio mas tenebroso...");
  }else{
    StartDialogue(0 , "Aquello parece un hilo y aguja...");
  }
  EndDialogue(true);
}

function obj_needle_Interact()
{
  if(RagathaIssue == 1){
    MovePlayerAndWait(object[6].X,  object[6].Y, eDirectionLeft);
    
    object[6].Visible=false;
    needle=true;
    
    StartDialogue(0 , "¡Lo tengo!");
    EndDialogue(true);
    RagathaIssue = 2;
  }
}

function npc_Ragatha_Look()
{
 StartDialogue(0 , "Son Zooble y Raghata.");
 EndDialogue(true);
}



function ToRoomsHall_Interact()
{
 cPlayer.ChangeRoom(2 , 600 ,  231 ,  eDirectionDown);
}

function hToPuzzleHall_WalkOn()
{
if(RagathaIssue == 0){ }else{
  if(EyeCollected == false){
 cPlayer.ChangeRoom(5);
  }
}
}

function Agujero_WalkOn()
{
   cPlayer.Walk(1776 ,  512);
   StartDialogue(0 ,  "Uy,  un agujero, mejor no acercarse...");
   EndDialogue(true);
}
